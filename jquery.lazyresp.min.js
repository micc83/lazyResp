/**
 * jQuery-lazyResp - jQuery plugin to lazy load responsive images with retina support
 * @version v0.1.0
 * @author Alessandro Benoit
 * @link http://codeb.it/lazyrespimg/
 * @license MIT
 */
!function(e,t,a){"use strict";function i(t,i){function n(e){var t=o.offset()?o.offset().top:0,a=o.offset()?o.offset().left:0,r=o.scrollTop()+t,n=o.scrollLeft()+a,s=r+o.height(),f=n+o.width(),l=e.offset().top,d=e.offset().left,c=l+e.height(),h=d+e.width();return c>=r-i.tolerance&&l<=s+i.tolerance&&h>=n-i.tolerance&&d<=f+i.tolerance}{var s=this,f=e(t),l=!1,d=1;a++}return s.loadImage=function(){return l||!n(f)?!1:void this.getRightImageSize()},s.reloadImage=function(){return l=!1,n(f)?void this.getRightImageSize():!1},s.getRightImageSize=function(){var t,a,n=o.width();return f.data("large")&&n>parseInt(i.large,10)?(t="large",a=5):f.data("medium")&&n>parseInt(i.medium,10)?(t="medium",a=3):(t="small",a=1),r>=i.retina&&f.data(t+"-retina")&&(t+="-retina",a++),"small"===t||d>=a?!1:(l=!0,i.beforeLoad(f),void e("<img/>",{src:f.data(t)}).appendTo("body").hide().load(function(){d=a,f.attr("src",e(this).attr("src")),e(this).remove(),i.afterLoad(f)}))},o.resize(function(){s.reloadImage()}),i.lazy?(s.loadImage(),o.scroll(function(){s.loadImage()})):s.getRightImageSize(),s}var o=e(t),r=t.devicePixelRatio;e.fn.lazyResp=function(t){var a=e.extend({medium:640,large:1024,retina:1.01,tolerance:0,lazy:!0,beforeLoad:function(){},afterLoad:function(){}},t);return this.each(function(){e.data(this,"lazyResp")||e.data(this,"lazyResp",new i(this,a))}),this.refresh=e.proxy(function(){this.each(function(){e.data(this,"lazyResp").loadImage()})},this),this}}(jQuery,this,0);