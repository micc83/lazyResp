/**
 * jQuery-lazyResp - jQuery plugin to lazy load responsive images with retina support
 * @version v0.1.1
 * @author Alessandro Benoit
 * @link http://codeb.it/lazyrespimg/
 * @license MIT
 */
!function(e,t){"use strict";function a(t,a){function o(e){var t=i.offset()?i.offset().top:0,r=i.offset()?i.offset().left:0,o=i.scrollTop()+t,n=i.scrollLeft()+r,s=o+i.height(),f=n+i.width(),l=e.offset().top,d=e.offset().left,h=l+e.height(),c=d+e.width();return h>=o-a.tolerance&&l<=s+a.tolerance&&c>=n-a.tolerance&&d<=f+a.tolerance}var n=this,s=e(t),f=!1,l=1;return n.loadImage=function(){return f||!o(s)?!1:void this.getRightImageSize()},n.reloadImage=function(){return f=!1,o(s)?void this.getRightImageSize():!1},n.getRightImageSize=function(){var t,o,n=i.width();return s.data("large")&&n>parseInt(a.large,10)?(t="large",o=5):s.data("medium")&&n>parseInt(a.medium,10)?(t="medium",o=3):(t="small",o=1),r>=a.retina&&s.data(t+"-retina")&&(t+="-retina",o++),"small"===t||l>=o?(a.beforeLoad(s,!0),a.afterLoad(s,!0),!1):(f=!0,a.beforeLoad(s),void e("<img/>",{src:s.data(t)}).load(function(){l=o,s.attr("src",e(this).attr("src")),e(this).remove(),a.afterLoad(s)}))},i.resize(function(){n.reloadImage()}),a.lazy?(n.loadImage(),i.scroll(function(){n.loadImage()})):n.getRightImageSize(),n}var i=e(t),r=t.devicePixelRatio;e.fn.lazyResp=function(t){var i=e.extend({medium:640,large:1024,retina:1.01,tolerance:0,lazy:!0,beforeLoad:function(){},afterLoad:function(){}},t);return this.each(function(){e.data(this,"lazyResp")?i.lazy||e.data(this,"lazyResp").getRightImageSize():e.data(this,"lazyResp",new a(this,i))}),this.refresh=e.proxy(function(){this.each(function(){e.data(this,"lazyResp").loadImage()})},this),this}}(jQuery,this);